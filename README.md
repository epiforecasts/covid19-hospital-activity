# covid19-hospital-activity

## Project pipeline overview

Results are generated by running the following scripts:

* [R/00_trust_characteristics.R](https://github.com/epiforecasts/covid19-hospital-activity/blob/main/R/00_trust_characteristics.R)
* [R/01_make_forecasts.R](https://github.com/epiforecasts/covid19-hospital-activity/blob/main/R/01_make_forecasts.R)
* [R/02_eval_forecasts.R](https://github.com/epiforecasts/covid19-hospital-activity/blob/main/R/02_eval_forecasts.R)

Figures and any in-text values are made by running the following reports:

* [reports/01_introduction.Rmd](https://github.com/epiforecasts/covid19-hospital-activity/blob/main/reports/01_introduction.Rmd)
* [reports/02_forecast_evaluation.Rmd](https://github.com/epiforecasts/covid19-hospital-activity/blob/main/reports/02_forecast_evaluation.Rmd)
* [reports/90_estimate_lag.Rmd](https://github.com/epiforecasts/covid19-hospital-activity/blob/main/reports/90_estimate_lag.Rmd)


## Details

### Making admissions forecasts

Forecasts are produced with [R/01_make_forecasts.R](https://github.com/epiforecasts/covid19-hospital-activity/blob/main/R/01_make_forecasts.R), which does the following:

1. Define the forecast dates, and load the Trust-level admissions (observed) and case (estimated) data.
2. Run the individual forecasting models by sourcing scripts of the form `R/run_xxx.R` (apart from `R/run_epinow2_case.R`).
3. Save forecast (samples and quantile forecasts comprising the median, and 50% and 90% prediction intervals) in [data/out/samples/](https://github.com/epiforecasts/covid19-hospital-activity/tree/main/data/out/admissions_forecast/samples) and [data/out/summary/](https://github.com/epiforecasts/covid19-hospital-activity/tree/main/data/out/admissions_forecast/summary), respectively.
4. Make and save ensemble forecasts from a defined subset of the individual models.

### Evaluating forecasts

Forecasts are scored with [R/02_eval_forecasts.R](https://github.com/epiforecasts/covid19-hospital-activity/blob/main/R/02_eval_forecasts.R) using the `scoringutils` package.